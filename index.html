<!DOCTYPE html>
<html>
<head>
    <title>Project Boywatch</title>
    <meta charset="UTF-8"/>
    <script type="text/javascript" src="js/phaser.min.js"></script>
    <script type="text/javascript" src="js/FireSpot.js"></script>
    <script type="text/javascript" src="js/Character.js"></script>

    <script type="text/javascript">

        window.onload = function() {

            var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create });
            var spots = [];

            function preload () {

                game.load.image('hubert', 'assets/img/Hubert.png');
                game.load.image('background', 'assets/img/TempBackground.png')
            }

            function placeInSpot(character) {
                var scale = 0.25;
                var index;
                for (index = 0; index < spots.length; index++) {
                    if (!spots[index].character) {
                        console.log(spots[index]);
                        character.sprite.anchor.setTo(0.5, 0.5);
                        character.sprite.scale.setTo(spots[index].flip ? -scale : scale, scale)
                        character.sprite.position = spots[index].position;
                        spots[index].character = character;
                    }
                }
            }

            function create () {

                var distToFire = 100;

                var spotOne = new FireSpot(new PIXI.Point(game.world.centerX, game.world.centerY + distToFire), false, null);
                var spotTwo = new FireSpot(new PIXI.Point(game.world.centerX, game.world.centerY - distToFire), false, null);
                var spotThree = new FireSpot(new PIXI.Point(game.world.centerX - distToFire, game.world.centerY), true, null);
                var spotFour = new FireSpot(new PIXI.Point(game.world.centerX + distToFire, game.world.centerY), false, null);
                spots.push(spotOne);
                spots.push(spotTwo);
                spots.push(spotThree);
                spots.push(spotFour);


                var background = game.add.sprite(0, 0, 'background');
                var hubert = new Character(game.add.sprite(0, 0, 'hubert'));
                var emmis = new Character(game.add.sprite(0, 0, 'hubert'));

                placeInSpot(hubert);
                placeInSpot(emmis);
            }
        };
    </script>
</head>

<body>
    <p>Hello, world!</p>
</body>

</html>
